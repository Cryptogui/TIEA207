syntax = "proto3";

package testi;

message Chatmessage {
  int32 senderID = 1;
  string msg = 2;
}

message Location {
  int32 senderID = 1;
  double latitude = 2;
  double longitude = 3;
}

message SendLocation {
  double latitude = 1;
  double longitude = 2;
}

message SendLoginInfo {
  string key = 1;
}

message Query {
  uint64 cmd = 1;
  string args = 2;
}

message FromServer {
  repeated Chatmessage chatmsg = 1;
  repeated Location locations = 2;
}
message ToServer {
  Query query = 1;
  SendLoginInfo logininfo = 2;
  string chatmsg = 3;
  SendLocation location = 4;
}
message JoinRoom {
  string name = 1;
  string password = 2;
  string username = 3;
  bool createroom = 4;
}